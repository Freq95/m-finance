@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme — bright, clean with frosted glass */
    --background: 250, 250, 252;
    --background-deep: 242, 242, 247;
    --foreground: 28, 28, 30;
    --foreground-secondary: 60, 60, 67;
    --foreground-tertiary: 142, 142, 147;
    --glass-bg: 255, 255, 255;
    --glass-border: 255, 255, 255;
    --glass-opacity: 0.72;
    --glass-border-opacity: 0.18;
    --glass-blur: 40px;
    --surface-elevated: 255, 255, 255;
    --surface-elevated-opacity: 0.85;
    --overlay-dim: 0, 0, 0;
    --overlay-opacity: 0.4;
    --overlay-blur: 20px;
    --radius-sm: 12px;
    --radius-md: 16px;
    --radius-lg: 20px;
    --radius-xl: 24px;
    --radius-2xl: 28px;
    --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.06);
    --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.08), 0 2px 8px rgba(0, 0, 0, 0.04);
    --shadow-modal: 0 24px 48px rgba(0, 0, 0, 0.12), 0 8px 16px rgba(0, 0, 0, 0.06);
    --ease-liquid: cubic-bezier(0.33, 1, 0.68, 1);
    --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);
    --duration-fast: 200ms;
    --duration-normal: 320ms;
    --duration-slow: 480ms;
  }

  .dark {
    /* Dark theme — deep black with glassy panels */
    --background: 0, 0, 0;
    --background-deep: 10, 10, 12;
    --foreground: 255, 255, 255;
    --foreground-secondary: 235, 235, 240;
    --foreground-tertiary: 174, 174, 178;
    --glass-bg: 44, 44, 46;
    --glass-border: 255, 255, 255;
    --glass-opacity: 0.45;
    --glass-border-opacity: 0.12;
    --glass-blur: 40px;
    --surface-elevated: 44, 44, 46;
    --surface-elevated-opacity: 0.6;
    --overlay-dim: 0, 0, 0;
    --overlay-opacity: 0.6;
    --overlay-blur: 24px;
    --shadow-soft: 0 2px 12px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
    --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2);
    --shadow-modal: 0 24px 48px rgba(0, 0, 0, 0.5), 0 8px 16px rgba(0, 0, 0, 0.3);
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
      "Helvetica Neue", system-ui, sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1, "ss01" 1;
    background-color: rgb(var(--background));
    color: rgb(var(--foreground));
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer components {
  /* Liquid glass panel — primary surface */
  .glass-panel {
    background: rgba(var(--glass-bg), var(--glass-opacity));
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid rgba(var(--glass-border), var(--glass-border-opacity));
    box-shadow: var(--shadow-soft);
  }

  .glass-panel-elevated {
    background: rgba(var(--surface-elevated), var(--surface-elevated-opacity));
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
    border: 1px solid rgba(var(--glass-border), var(--glass-border-opacity));
    box-shadow: var(--shadow-glass);
  }

  /* Modal overlay — blur + dim */
  .glass-overlay {
    background: rgba(var(--overlay-dim), var(--overlay-opacity));
    backdrop-filter: blur(var(--overlay-blur));
    -webkit-backdrop-filter: blur(var(--overlay-blur));
  }
}

@layer utilities {
  .glass {
    background: rgba(var(--glass-bg), var(--glass-opacity));
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }
  .glass-dark {
    background: rgba(var(--glass-bg), var(--glass-opacity));
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  /* Liquid enter/exit for modals */
  .animate-in-glass {
    animation: glass-in var(--duration-normal) var(--ease-liquid) forwards;
  }
  .animate-out-glass {
    animation: glass-out var(--duration-fast) var(--ease-liquid) forwards;
  }
  .animate-overlay-in {
    animation: overlay-in var(--duration-normal) var(--ease-liquid) forwards;
  }
  .animate-overlay-out {
    animation: overlay-out var(--duration-fast) var(--ease-liquid) forwards;
  }
}

@keyframes glass-in {
  from {
    opacity: 0;
    transform: scale(0.96) translateY(8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes glass-out {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.98) translateY(4px);
  }
}

@keyframes overlay-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes overlay-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
